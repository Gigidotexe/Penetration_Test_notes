# Exploiting FTP
**FTP (File Transfer Protocol)** è un protocollo di rete standard utilizzato per il trasferimento di file tra client e server. Opera in genere sulla porta TCP **21** e supporta diverse modalità di autenticazione e gestione dei file, incluse operazioni come il caricamento (upload), lo scaricamento (download) e la navigazione tra directory remote. 

È ampiamente usato in ambienti legacy o per semplici operazioni di file sharing, ma la mancanza di crittografia nei dati e credenziali lo rende vulnerabile a molte forme di attacco.

---

## 1 – Identificazione del servizio FTP

Il primo passo consiste nell'individuare se il servizio FTP è attivo sulla macchina target, e identificarne la versione:

```bash
nmap -sV -p21 <IP>
```

Questo comando effettua una scansione di versione (`-sV`) sulla porta 21 (FTP), utile per determinare se il server FTP è attivo e quale versione del software sta eseguendo.

---

## 2 – Tentativo di accesso anonimo

Alcuni server FTP permettono l'accesso pubblico tramite l'utente **anonymous**, utile per consultare file pubblici senza credenziali specifiche. Questo avviene solitamente in contesti di repository o mirror di software open-source.

Per testare questa opzione:

```bash
ftp <IP>
```

Alla richiesta di username, inserire:

```text
Name: anonymous
Password: [qualsiasi]
```

Se l'accesso è rifiutato con un messaggio tipo:

```
530 Login incorrect.
Login failed.
Remote system type is UNIX.
Using binary mode to transfer files.
```

significa che l'accesso anonimo è disabilitato.

---

## 3 – Brute Force con Hydra

Per tentare un attacco di forza bruta su FTP, possiamo usare **Hydra**, specificando liste di username e password:

```bash
hydra -L <usernameList> -P <passwordList> <IP> -t 4 ftp
```

- `-L` specifica la wordlist degli utenti.
- `-P` specifica la wordlist delle password.
- `-t 4` regola la velocità di attacco (4 thread).

Se Hydra trova una coppia valida, verrà notificato con un messaggio a video.

---

## 4 – Accesso al server FTP

Dopo aver scoperto le credenziali valide:

```bash
ftp <IP>
```

Alla richiesta di accesso, inserire:

```text
Name: <username>
Password: <password>
```

Una volta dentro, puoi:

- **Scaricare un file** con: `get <filename>`
- **Caricare un file** con: `put <filename>`
- **Navigare** tra le directory con: `cd`, `ls`

---

## 5 – Ricerca di exploit noti

Se conosci la versione esatta del server FTP, puoi cercare eventuali vulnerabilità note con:

```bash
searchsploit <ftp-versione>
```

Ad esempio:

```bash
searchsploit vsftpd 2.3.4
```

Questo comando mostrerà eventuali exploit disponibili nel database di ExploitDB installato localmente.

---

> **Nota**: FTP è spesso usato come vettore iniziale di accesso. Una volta all'interno, l'esame dei file accessibili può rivelare informazioni sensibili, backup o file di configurazione utili a fasi successive di escalation dei privilegi o pivoting.
